<div class="min-h-screen py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl sm:text-5xl font-bold mb-4">
        Choose Your Perfect Plan
      </h1>
      <p class="text-gray-600 dark:text-gray-400 text-lg max-w-2xl mx-auto mb-8">
        Flexible pricing options to fit your learning journey
      </p>

      <!-- Billing Toggle -->
      <div class="inline-flex items-center gap-4 bg-gray-100 dark:bg-gray-800 rounded-full p-1">
        <button
          (click)="setBillingCycle('monthly')"
          [class]="billingCycle() === 'monthly' 
            ? 'bg-white dark:bg-gray-900 shadow-sm font-semibold' 
            : 'text-gray-600 dark:text-gray-400'"
          class="px-6 py-2 rounded-full transition-all">
          Monthly
        </button>
        <button
          (click)="setBillingCycle('annual')"
          [class]="billingCycle() === 'annual' 
            ? 'bg-white dark:bg-gray-900 shadow-sm font-semibold' 
            : 'text-gray-600 dark:text-gray-400'"
          class="px-6 py-2 rounded-full transition-all flex items-center gap-2">
          Annual
          @if (billingCycle() === 'annual') {
            <span class="bg-[rgb(255,127,80)] text-white text-xs px-2 py-0.5 rounded-full">
              Save 17%
            </span>
          }
        </button>
      </div>
    </div>

    <!-- Pricing Cards -->
    <div class="grid md:grid-cols-3 gap-8 mb-16">
      @for (plan of plans; track plan.name) {
        <div 
          [class]="plan.popular 
            ? 'border-[rgb(0,200,151)] shadow-2xl md:scale-105' 
            : 'border-gray-200 dark:border-gray-700 hover:border-[rgb(0,200,151)]/50'"
          class="relative bg-white dark:bg-gray-800 rounded-2xl border-2 overflow-hidden transition-all">
          
          <!-- Popular Badge -->
          @if (plan.popular) {
            <div class="absolute top-0 right-0 bg-gradient-to-r from-[rgb(0,200,151)] to-[rgb(255,127,80)] text-white px-4 py-1 text-sm font-semibold">
              <svg class="w-3 h-3 inline mr-1" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
              Most Popular
            </div>
          }

          <div class="p-8">
            <!-- Plan Header -->
            <h3 class="text-2xl font-bold mb-2">{{ plan.name }}</h3>
            <p class="text-gray-600 dark:text-gray-400 mb-6">{{ plan.description }}</p>

            <!-- Price -->
            <div class="mb-6">
              <div class="flex items-baseline gap-2">
                <span class="text-5xl font-bold bg-gradient-to-r from-[rgb(0,200,151)] to-[rgb(255,127,80)] bg-clip-text text-transparent">
                  {{ getPrice(plan) }}
                </span>
                @if (plan.monthlyPrice !== '$0') {
                  <span class="text-gray-600 dark:text-gray-400">
                    /{{ billingCycle() === 'monthly' ? 'month' : 'year' }}
                  </span>
                }
              </div>
              @if (billingCycle() === 'annual' && plan.monthlyPrice !== '$0') {
                <p class="text-sm text-[rgb(255,127,80)] mt-2">{{ getSavings() }}</p>
              }
            </div>

            <!-- CTA Button -->
            <button
              [class]="plan.popular 
                ? 'bg-gradient-to-r from-[rgb(0,200,151)] to-[rgb(255,127,80)] text-white hover:opacity-90' 
                : 'border border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700'"
              class="w-full mb-6 px-6 py-3 rounded-lg font-medium transition-all">
              {{ plan.name === 'Free' ? 'Get Started' : 'Start Free Trial' }}
            </button>

            <!-- Features -->
            <div class="space-y-3">
              <p class="font-semibold text-sm">What's included:</p>
              @for (feature of plan.features; track feature) {
                <div class="flex items-start gap-3">
                  <svg class="w-5 h-5 text-[rgb(0,200,151)] shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                  </svg>
                  <span class="text-sm">{{ feature }}</span>
                </div>
              }
              @if (plan.limitations) {
                @for (limitation of plan.limitations; track limitation) {
                  <div class="flex items-start gap-3 opacity-50">
                    <div class="w-5 h-5 shrink-0 mt-0.5 flex items-center justify-center">
                      <div class="w-3 h-0.5 bg-gray-400"></div>
                    </div>
                    <span class="text-sm line-through">{{ limitation }}</span>
                  </div>
                }
              }
            </div>
          </div>
        </div>
      }
    </div>

    <!-- FAQ Section -->
    <div class="max-w-3xl mx-auto">
      <h2 class="text-3xl font-bold mb-8 text-center">Frequently Asked Questions</h2>
      
      <div class="space-y-6">
        @for (faq of faqs; track faq.q) {
          <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 hover:border-[rgb(0,200,151)]/50 transition-colors">
            <h3 class="font-semibold mb-2">{{ faq.q }}</h3>
            <p class="text-gray-600 dark:text-gray-400">{{ faq.a }}</p>
          </div>
        }
      </div>
    </div>

    <!-- Bottom CTA -->
    <div class="mt-20 text-center bg-gradient-to-r from-[rgb(0,200,151)]/10 to-[rgb(255,127,80)]/10 rounded-2xl p-12">
      <h2 class="text-3xl font-bold mb-4">Still have questions?</h2>
      <p class="text-gray-600 dark:text-gray-400 mb-6">
        Our team is here to help you find the perfect plan for your needs.
      </p>
      <button class="px-8 py-3 border border-gray-300 dark:border-gray-700 rounded-lg font-medium hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
        Contact Sales
      </button>
    </div>
  </div>
</div>
